# Separate deployment variables for this app only.
# Copy this file to deployment/separate/.env and edit values.

# Public URL where admin web is served (recommended: separate subdomain)
APP_DOMAIN=admin2.example.com
# Absolute path of this repository on server
APP_ROOT=/home/appuser/wholeaxle
AUTH_DB=mysql

# Internal local ports (must not conflict with existing projects)
BACKEND_PORT=18000
# Used only if ADMIN_MODE=preview
ADMIN_PORT=18080
# `static` (recommended) serves built admin from Nginx directly.
# `preview` runs `vite preview` via PM2.
ADMIN_MODE=static
# Optional explicit frontend URL used by backend CORS/email links.
# If omitted, deploy uses https://$APP_DOMAIN.
# For SSH tunnel mode you can set:
# FRONTEND_URL=http://127.0.0.1:28080
FRONTEND_URL=

# MongoDB for this app only (separate DB from any existing project)
MONGODB_URI=mongodb://127.0.0.1:27017/wholexale_admin2

# MySQL (used when AUTH_DB=mysql)
MYSQL_HOST=127.0.0.1
MYSQL_PORT=3306
MYSQL_DATABASE=wholexale_auth
MYSQL_USER=wholexale_user
MYSQL_PASSWORD=change-me

# Optional services
REDIS_URL=redis://127.0.0.1:6379
POSTGRES_URI=
BASE_URL=

# Optional integrations: Email (SMTP)
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USER=
EMAIL_PASS=
EMAIL_FROM=

# Optional integrations: SMS (Twilio)
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_PHONE_NUMBER=

# Optional integrations: webhooks
WEBHOOK_SECRET=

# Optional integrations: Delhivery logistics
DELHIVERY_API_TOKEN=
LOGISTICS_API_KEY=
DELHIVERY_BASE_URL=https://track.delhivery.com
DELHIVERY_TIMEOUT_MS=15000
DELHIVERY_AUTH_HEADER=Authorization
DELHIVERY_AUTH_PREFIX=Token
DELHIVERY_REQUEST_FORMAT=form
DELHIVERY_CREATE_SHIPMENT_PATH=/api/cmu/create.json
DELHIVERY_PICKUP_REQUEST_PATH=/fm/request/new/
DELHIVERY_TRACKING_PATH=/api/v1/packages/json/
DELHIVERY_WAYBILL_PATH=/waybill/api/bulk/json/
DELHIVERY_SERVICEABILITY_PATH=/c/api/pin-codes/json/

# Security secrets (replace with strong random values)
JWT_SECRET=replace-with-strong-secret
JWT_REFRESH_SECRET=replace-with-strong-refresh-secret
SESSION_SECRET=replace-with-strong-session-secret

# Backend behavior
NODE_ENV=production
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
# Backend deploy wait window (seconds) for /health to come up
BACKEND_HEALTH_WAIT_SECONDS=30
# Optional Mongo server selection timeout (ms)
MONGO_SERVER_SELECTION_TIMEOUT_MS=5000

# Build-time admin API URL
# Keep /api suffix because admin web client expects it.
VITE_API_URL=https://admin2.example.com/api
# Disable demo login in production builds.
VITE_DEMO_LOGIN=false

# Optional admin seed (used with: npm --prefix backend run seed:admin)
# For safer deploys, seeding is OFF by default.
# Set ADMIN_SEED_ON_DEPLOY=true only when you explicitly want seeding during deploy.
ADMIN_SEED_ON_DEPLOY=false
# Password rotation is OFF by default to avoid credential overwrite on redeploy.
ADMIN_SEED_RESET_PASSWORD=false
# Optional smoke-test login assertion with seeded credentials.
ADMIN_SEED_ASSERT_LOGIN=false
ADMIN_SEED_EMAIL=admin@wholexale.com
ADMIN_SEED_PASSWORD=change-this-to-strong-password
ADMIN_SEED_ROLE=admin
