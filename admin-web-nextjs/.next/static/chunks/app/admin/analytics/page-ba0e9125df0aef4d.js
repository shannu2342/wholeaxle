(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[668],{18102:function(e,s,l){Promise.resolve().then(l.bind(l,9137))},9137:function(e,s,l){"use strict";l.r(s),l.d(s,{default:function(){return O}});var t=l(57437),a=l(2265),r=l(39479),i=l(71837),n=l(79820),d=l(12381),c=l(69174),x=l(68667),o=l(82431),h=l(81596),u=l(47625),m=l(75169),j=l(3574),g=l(20407),v=l(8147),f=l(77031),y=l(56940),b=l(97059),N=l(62994),p=l(31699);let w=["#2563EB","#10B981","#F59E0B","#EF4444","#8B5CF6","#14B8A6","#0EA5E9","#F97316"],B=e=>e?Object.entries(e).map(e=>{let[s,l]=e;return{name:s,value:l}}).sort((e,s)=>s.value-e.value):[];function O(){var e,s,l,O,k,S,R,Z;let[E,C]=(0,a.useState)(!0),[K,Y]=(0,a.useState)(null),[q,A]=(0,a.useState)(null),_=async()=>{C(!0),Y(null);try{var e;let s=await i.N.getAnalytics();A((null==s?void 0:null===(e=s.data)||void 0===e?void 0:e.analytics)||null)}catch(e){Y((0,x.i)(e,"Failed to load analytics"))}finally{C(!1)}};(0,a.useEffect)(()=>{_()},[]);let z=(0,a.useMemo)(()=>B(null==q?void 0:q.usersByRole),[q]),F=(0,a.useMemo)(()=>B(null==q?void 0:q.ordersByStatus),[q]),D=(0,a.useMemo)(()=>B(null==q?void 0:q.productsByCategory),[q]),L=(0,a.useMemo)(()=>B(null==q?void 0:q.brandRequestsByStatus),[q]);return(0,t.jsx)(r.Z,{children:(0,t.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Analytics"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-600",children:"High-level metrics and trends."})]}),(0,t.jsxs)(d.z,{variant:"outline",onClick:_,disabled:E,children:[(0,t.jsx)(o.Z,{className:"mr-2 h-4 w-4"}),"Refresh"]})]}),K?(0,t.jsx)("div",{className:"rounded-md border border-red-200 bg-red-50 p-4 text-sm text-red-700",children:K}):null,(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-4",children:[(0,t.jsxs)(n.Zb,{children:[(0,t.jsx)(n.Ol,{className:"pb-2",children:(0,t.jsx)(n.ll,{className:"text-sm font-medium text-gray-700",children:"Users"})}),(0,t.jsx)(n.aY,{children:(0,t.jsx)("div",{className:"text-2xl font-bold",children:null!==(k=null==q?void 0:null===(e=q.totals)||void 0===e?void 0:e.users)&&void 0!==k?k:0})})]}),(0,t.jsxs)(n.Zb,{children:[(0,t.jsx)(n.Ol,{className:"pb-2",children:(0,t.jsx)(n.ll,{className:"text-sm font-medium text-gray-700",children:"Products"})}),(0,t.jsx)(n.aY,{children:(0,t.jsx)("div",{className:"text-2xl font-bold",children:null!==(S=null==q?void 0:null===(s=q.totals)||void 0===s?void 0:s.products)&&void 0!==S?S:0})})]}),(0,t.jsxs)(n.Zb,{children:[(0,t.jsx)(n.Ol,{className:"pb-2",children:(0,t.jsx)(n.ll,{className:"text-sm font-medium text-gray-700",children:"Orders"})}),(0,t.jsx)(n.aY,{children:(0,t.jsx)("div",{className:"text-2xl font-bold",children:null!==(R=null==q?void 0:null===(l=q.totals)||void 0===l?void 0:l.orders)&&void 0!==R?R:0})})]}),(0,t.jsxs)(n.Zb,{children:[(0,t.jsx)(n.Ol,{className:"pb-2",children:(0,t.jsx)(n.ll,{className:"text-sm font-medium text-gray-700",children:"Brand Requests"})}),(0,t.jsx)(n.aY,{children:(0,t.jsx)("div",{className:"text-2xl font-bold",children:null!==(Z=null==q?void 0:null===(O=q.totals)||void 0===O?void 0:O.brandRequests)&&void 0!==Z?Z:0})})]})]}),(0,t.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,t.jsxs)(n.Zb,{children:[(0,t.jsx)(n.Ol,{children:(0,t.jsxs)(n.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(h.Z,{className:"h-5 w-5"}),"Orders By Status"]})}),(0,t.jsx)(n.aY,{className:"h-[320px]",children:E?(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Loading..."}):0===F.length?(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"No data."}):(0,t.jsx)(u.h,{width:"100%",height:"100%",children:(0,t.jsxs)(m.u,{children:[(0,t.jsx)(j.b,{dataKey:"value",data:F,innerRadius:55,outerRadius:90,paddingAngle:2,children:F.map((e,s)=>(0,t.jsx)(g.b,{fill:w[s%w.length]},s))}),(0,t.jsx)(v.u,{})]})})})]}),(0,t.jsxs)(n.Zb,{children:[(0,t.jsx)(n.Ol,{children:(0,t.jsx)(n.ll,{children:"Users By Role"})}),(0,t.jsx)(n.aY,{className:"h-[320px]",children:E?(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Loading..."}):0===z.length?(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"No data."}):(0,t.jsx)(u.h,{width:"100%",height:"100%",children:(0,t.jsxs)(f.v,{data:z,children:[(0,t.jsx)(y.q,{strokeDasharray:"3 3"}),(0,t.jsx)(b.K,{dataKey:"name",tick:{fontSize:12}}),(0,t.jsx)(N.B,{tick:{fontSize:12},allowDecimals:!1}),(0,t.jsx)(v.u,{}),(0,t.jsx)(p.$,{dataKey:"value",fill:"#2563EB",radius:[6,6,0,0]})]})})})]}),(0,t.jsxs)(n.Zb,{children:[(0,t.jsx)(n.Ol,{children:(0,t.jsx)(n.ll,{children:"Products By Category"})}),(0,t.jsxs)(n.aY,{className:"h-[360px]",children:[E?(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Loading..."}):0===D.length?(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"No data."}):(0,t.jsx)(u.h,{width:"100%",height:"100%",children:(0,t.jsxs)(f.v,{data:D.slice(0,8),layout:"vertical",margin:{left:24},children:[(0,t.jsx)(y.q,{strokeDasharray:"3 3"}),(0,t.jsx)(b.K,{type:"number",tick:{fontSize:12},allowDecimals:!1}),(0,t.jsx)(N.B,{type:"category",dataKey:"name",tick:{fontSize:12},width:120}),(0,t.jsx)(v.u,{}),(0,t.jsx)(p.$,{dataKey:"value",fill:"#10B981",radius:[0,6,6,0]})]})}),D.length>8?(0,t.jsx)("div",{className:"mt-2 text-xs text-gray-500",children:"Showing top 8 categories."}):null]})]}),(0,t.jsxs)(n.Zb,{children:[(0,t.jsx)(n.Ol,{children:(0,t.jsx)(n.ll,{children:"Brand Requests By Status"})}),(0,t.jsx)(n.aY,{className:"flex h-[360px] flex-col",children:E?(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Loading..."}):0===L.length?(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"No data."}):(0,t.jsxs)("div",{className:"grid flex-1 grid-cols-1 gap-4 md:grid-cols-2",children:[(0,t.jsx)("div",{className:"h-[280px]",children:(0,t.jsx)(u.h,{width:"100%",height:"100%",children:(0,t.jsxs)(m.u,{children:[(0,t.jsx)(j.b,{dataKey:"value",data:L,innerRadius:50,outerRadius:90,paddingAngle:2,children:L.map((e,s)=>(0,t.jsx)(g.b,{fill:w[s%w.length]},s))}),(0,t.jsx)(v.u,{})]})})}),(0,t.jsx)("div",{className:"flex flex-col gap-2",children:L.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center justify-between rounded-md border bg-white px-3 py-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"h-2.5 w-2.5 rounded-full",style:{background:w[s%w.length]}}),(0,t.jsx)("span",{className:"text-sm text-gray-700",children:e.name})]}),(0,t.jsx)(c.C,{variant:"secondary",children:e.value})]},e.name))})]})})]})]})]})})}},69174:function(e,s,l){"use strict";l.d(s,{C:function(){return n}});var t=l(57437);l(2265);var a=l(90535),r=l(93448);let i=(0,a.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",success:"border-transparent bg-green-500 text-white hover:bg-green-500/80",warning:"border-transparent bg-yellow-500 text-white hover:bg-yellow-500/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function n(e){let{className:s,variant:l,...a}=e;return(0,t.jsx)("div",{className:(0,r.cn)(i({variant:l}),s),...a})}}},function(e){e.O(0,[809,662,543,273,830,971,117,744],function(){return e(e.s=18102)}),_N_E=e.O()}]);