(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[674],{27999:function(e,t,s){Promise.resolve().then(s.bind(s,33058))},82431:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(79205).Z)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},33058:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return p}});var r=s(57437),a=s(2265),l=s(39479),n=s(71837),i=s(69174),d=s(12381),c=s(79820),x=s(82431),o=s(95805),u=s(68667);let h=["buyer","seller","admin","super_admin"];function p(){let[e,t]=(0,a.useState)(!0),[s,p]=(0,a.useState)(null),[m,f]=(0,a.useState)(null),[y,g]=(0,a.useState)([]),j=async()=>{t(!0),p(null);try{var e;let t=await n.N.getUsers();g((null==t?void 0:null===(e=t.data)||void 0===e?void 0:e.users)||[])}catch(e){p((0,u.i)(e,"Failed to load users"))}finally{t(!1)}};(0,a.useEffect)(()=>{j()},[]);let v=async(e,t)=>{f(e),p(null);try{await n.N.updateUserRole(e,t),await j()}catch(e){p((0,u.i)(e,"Failed to update role"))}finally{f(null)}};return(0,r.jsx)(l.Z,{children:(0,r.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Users"}),(0,r.jsx)("p",{className:"mt-1 text-sm text-gray-600",children:"Manage user roles and access."})]}),(0,r.jsxs)(d.z,{variant:"outline",onClick:j,disabled:e,children:[(0,r.jsx)(x.Z,{className:"mr-2 h-4 w-4"}),"Refresh"]})]}),s?(0,r.jsx)("div",{className:"rounded-md border border-red-200 bg-red-50 p-4 text-sm text-red-700",children:s}):null,(0,r.jsxs)(c.Zb,{children:[(0,r.jsx)(c.Ol,{children:(0,r.jsxs)(c.ll,{className:"flex items-center gap-2",children:[(0,r.jsx)(o.Z,{className:"h-5 w-5"}),"User List"]})}),(0,r.jsx)(c.aY,{children:(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full min-w-[980px] table-auto border-collapse",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"border-b bg-gray-50 text-left text-xs font-semibold uppercase tracking-wide text-gray-600",children:[(0,r.jsx)("th",{className:"px-4 py-3",children:"User"}),(0,r.jsx)("th",{className:"px-4 py-3",children:"Name"}),(0,r.jsx)("th",{className:"px-4 py-3",children:"Phone"}),(0,r.jsx)("th",{className:"px-4 py-3",children:"Status"}),(0,r.jsx)("th",{className:"px-4 py-3",children:"Role"}),(0,r.jsx)("th",{className:"px-4 py-3 text-right",children:"Update"})]})}),(0,r.jsx)("tbody",{className:"divide-y",children:e?(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:6,className:"px-4 py-6 text-sm text-gray-600",children:"Loading..."})}):0===y.length?(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:6,className:"px-4 py-6 text-sm text-gray-600",children:"No users found."})}):y.map(e=>{let t=m===e.id;return(0,r.jsxs)("tr",{className:"bg-white",children:[(0,r.jsxs)("td",{className:"px-4 py-3",children:[(0,r.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.email}),(0,r.jsx)("div",{className:"text-xs text-gray-500",children:e.id})]}),(0,r.jsx)("td",{className:"px-4 py-3 text-sm text-gray-700",children:[e.firstName,e.lastName].filter(Boolean).join(" ")||"-"}),(0,r.jsx)("td",{className:"px-4 py-3 text-sm text-gray-700",children:e.phone||"-"}),(0,r.jsx)("td",{className:"px-4 py-3",children:(0,r.jsx)(i.C,{variant:"verified"===e.status?"success":"secondary",children:e.status||"unknown"})}),(0,r.jsx)("td",{className:"px-4 py-3 text-sm text-gray-700",children:e.role}),(0,r.jsx)("td",{className:"px-4 py-3 text-right",children:(0,r.jsx)("select",{className:"h-9 rounded-md border bg-white px-2 text-sm",value:e.role,onChange:t=>v(e.id,t.target.value),disabled:t,children:h.map(e=>(0,r.jsx)("option",{value:e,children:e},e))})})]},e.id)})})]})})})]})]})})}},69174:function(e,t,s){"use strict";s.d(t,{C:function(){return i}});var r=s(57437);s(2265);var a=s(90535),l=s(93448);let n=(0,a.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",success:"border-transparent bg-green-500 text-white hover:bg-green-500/80",warning:"border-transparent bg-yellow-500 text-white hover:bg-yellow-500/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:t,variant:s,...a}=e;return(0,r.jsx)("div",{className:(0,l.cn)(n({variant:s}),t),...a})}}},function(e){e.O(0,[809,662,830,971,117,744],function(){return e(e.s=27999)}),_N_E=e.O()}]);