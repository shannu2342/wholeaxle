exports.id=271,exports.ids=[271],exports.modules={1057:(e,s,r)=>{Promise.resolve().then(r.t.bind(r,12994,23)),Promise.resolve().then(r.t.bind(r,96114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,79671,23)),Promise.resolve().then(r.t.bind(r,41868,23)),Promise.resolve().then(r.t.bind(r,84759,23))},89345:()=>{},38280:(e,s,r)=>{"use strict";r.d(s,{A:()=>j,Z:()=>w});var t=r(10326),a=r(17577),n=r(90434),i=r(35047),d=r(91664),l=r(48705),o=r(58038),c=r(92945),m=r(63685),u=r(57671),h=r(33569),p=r(24061),x=r(66697),f=r(60763),g=r(88378),b=r(71810);r(18069),r(53566);let v=(0,a.createContext)(null);function j(){let e=(0,a.useContext)(v);if(!e)throw Error("useAdmin must be used within <AdminLayout />");return e}let y=[{name:"Dashboard",href:"/admin/dashboard",icon:t.jsx(l.Z,{className:"h-5 w-5"}),partition:"overview"},{name:"Brands",href:"/admin/brands",icon:t.jsx(o.Z,{className:"h-5 w-5"}),partition:"brands"},{name:"Inventory",href:"/admin/inventory",icon:t.jsx(c.Z,{className:"h-5 w-5"}),partition:"products"},{name:"Bulk Ops",href:"/admin/bulk",icon:t.jsx(m.Z,{className:"h-5 w-5"}),partition:"products"},{name:"Orders",href:"/admin/orders",icon:t.jsx(u.Z,{className:"h-5 w-5"}),partition:"orders"},{name:"Analytics",href:"/admin/analytics",icon:t.jsx(h.Z,{className:"h-5 w-5"}),partition:"analytics"},{name:"Users",href:"/admin/users",icon:t.jsx(p.Z,{className:"h-5 w-5"}),partition:"users"},{name:"Audit",href:"/admin/audit",icon:t.jsx(x.Z,{className:"h-5 w-5"}),partition:"overview"},{name:"Admins",href:"/admin/admins",icon:t.jsx(f.Z,{className:"h-5 w-5"}),roles:["super_admin"]},{name:"Settings",href:"/admin/settings",icon:t.jsx(g.Z,{className:"h-5 w-5"}),partition:"settings"}],N=(e,s)=>{if(!e)return!1;if("super_admin"===e.role)return!0;let r="admin"===e.role||"super_admin"===e.role?e.role:null;if(s.roles&&(!r||!s.roles.includes(r)))return!1;if(!s.partition)return!0;let t=Array.isArray(e.partitions)?e.partitions:[];return t.includes("*")||t.includes(s.partition)};function w({children:e}){let s=(0,i.usePathname)(),r=(0,i.useRouter)(),[l,o]=(0,a.useState)(null),[c,m]=(0,a.useState)([]),[u,h]=(0,a.useState)(!0),[p,x]=(0,a.useState)(null),f=(0,a.useCallback)(()=>{r.push("/admin/login")},[r]),g=(0,a.useCallback)(async()=>{},[f]),j=(0,a.useCallback)(e=>{if(!l)return!1;if("super_admin"===l.role)return!0;let s=Array.isArray(l.partitions)?l.partitions:[];return s.includes("*")||s.includes(e)},[l]),w=(0,a.useMemo)(()=>y.filter(e=>N(l,e)),[l]),A=(0,a.useMemo)(()=>[...y].sort((e,s)=>s.href.length-e.href.length).find(e=>s===e.href||s.startsWith(e.href+"/"))||null,[s]),C=(0,a.useMemo)(()=>!A||N(l,A),[l,A]),k=(0,a.useMemo)(()=>l?{user:l,partitions:c,hasPartition:j,refresh:g,logout:f}:null,[l,c,j,g,f]);return u?t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-50",children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[t.jsx("div",{className:"h-12 w-12 animate-spin rounded-full border-4 border-primary border-t-transparent"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Loading admin session..."})]})}):p?t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-50 p-6",children:(0,t.jsxs)("div",{className:"w-full max-w-md rounded-lg border bg-white p-6 shadow-sm",children:[t.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Session Error"}),t.jsx("p",{className:"mt-2 text-sm text-gray-600",children:p}),(0,t.jsxs)("div",{className:"mt-4 flex gap-2",children:[t.jsx(d.z,{onClick:()=>r.push("/admin/login"),children:"Go to Login"}),t.jsx(d.z,{variant:"outline",onClick:g,children:"Retry"})]})]})}):k?t.jsx(v.Provider,{value:k,children:(0,t.jsxs)("div",{className:"flex min-h-screen bg-gray-50",children:[(0,t.jsxs)("div",{className:"hidden w-72 flex-col bg-white shadow-sm md:flex",children:[(0,t.jsxs)("div",{className:"flex h-16 items-center justify-between border-b px-5",children:[(0,t.jsxs)("div",{className:"min-w-0",children:[t.jsx("h1",{className:"truncate text-lg font-semibold text-primary",children:"Wholexale Admin"}),t.jsx("p",{className:"truncate text-xs text-gray-500",children:k.user.email})]}),t.jsx("span",{className:"rounded-full bg-primary/10 px-2 py-0.5 text-xs font-medium text-primary",children:k.user.role})]}),t.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:t.jsx("nav",{className:"space-y-1",children:w.map(e=>t.jsx(n.default,{href:e.href,children:(0,t.jsxs)(d.z,{variant:s===e.href?"secondary":"ghost",className:"w-full justify-start gap-3",children:[e.icon,t.jsx("span",{className:"truncate",children:e.name})]})},e.name))})}),t.jsx("div",{className:"border-t p-4",children:(0,t.jsxs)(d.z,{variant:"outline",className:"w-full justify-start gap-3",onClick:f,children:[t.jsx(b.Z,{className:"h-5 w-5"}),t.jsx("span",{children:"Logout"})]})})]}),(0,t.jsxs)("div",{className:"flex-1 overflow-auto",children:[(0,t.jsxs)("header",{className:"flex h-16 items-center justify-between border-b bg-white px-4 md:hidden",children:[(0,t.jsxs)("div",{className:"min-w-0",children:[t.jsx("h1",{className:"truncate text-base font-semibold text-primary",children:"Wholexale Admin"}),t.jsx("p",{className:"truncate text-xs text-gray-500",children:k.user.email})]}),(0,t.jsxs)(d.z,{variant:"outline",size:"sm",onClick:f,children:[t.jsx(b.Z,{className:"mr-2 h-4 w-4"}),"Logout"]})]}),t.jsx("main",{className:"p-4 md:p-6",children:C?e:(0,t.jsxs)("div",{className:"rounded-lg border bg-white p-6",children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Access Denied"}),t.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"You do not have permission to access this section."})]})})]})]})}):null}},91664:(e,s,r)=>{"use strict";r.d(s,{z:()=>o});var t=r(10326),a=r(17577),n=r(34214),i=r(79360),d=r(51223);let l=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=a.forwardRef(({className:e,variant:s,size:r,asChild:a=!1,...i},o)=>{let c=a?n.g7:"button";return t.jsx(c,{className:(0,d.cn)(l({variant:s,size:r,className:e})),ref:o,...i})});o.displayName="Button",o.displayName="Button"},29752:(e,s,r)=>{"use strict";r.d(s,{Ol:()=>d,SZ:()=>o,Zb:()=>i,aY:()=>c,ll:()=>l});var t=r(10326),a=r(17577),n=r(51223);let i=a.forwardRef(({className:e,...s},r)=>t.jsx("div",{ref:r,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...s}));i.displayName="Card";let d=a.forwardRef(({className:e,...s},r)=>t.jsx("div",{ref:r,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...s}));d.displayName="CardHeader";let l=a.forwardRef(({className:e,...s},r)=>t.jsx("h3",{ref:r,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",e),...s}));l.displayName="CardTitle";let o=a.forwardRef(({className:e,...s},r)=>t.jsx("p",{ref:r,className:(0,n.cn)("text-sm text-muted-foreground",e),...s}));o.displayName="CardDescription";let c=a.forwardRef(({className:e,...s},r)=>t.jsx("div",{ref:r,className:(0,n.cn)("p-6 pt-0",e),...s}));c.displayName="CardContent",a.forwardRef(({className:e,...s},r)=>t.jsx("div",{ref:r,className:(0,n.cn)("flex items-center p-6 pt-0",e),...s})).displayName="CardFooter"},18069:(e,s,r)=>{"use strict";r.d(s,{N:()=>a});let t=r(94464).Z.create({baseURL:"http://localhost:8000/api",timeout:1e4,headers:{"Content-Type":"application/json"}});t.interceptors.request.use(e=>e,e=>Promise.reject(e)),t.interceptors.response.use(e=>e,e=>Promise.reject(e));let a={login:e=>t.post("/auth/login",e),me:()=>t.get("/auth/me"),getDashboard:()=>t.get("/admin/dashboard"),getPartitions:()=>t.get("/admin/partitions"),getAuditLog:()=>t.get("/admin/audit"),getBrandApplications:()=>t.get("/admin/brands/applications"),approveBrand:e=>t.post(`/admin/brands/${e}/approve`),rejectBrand:(e,s)=>t.post(`/admin/brands/${e}/reject`,{reason:s}),listBrandRequests:e=>t.get("/brand/requests",{params:e}),approveBrandRequest:(e,s)=>t.post(`/brand/requests/${e}/approve`,{comments:s}),rejectBrandRequest:(e,s)=>t.post(`/brand/requests/${e}/reject`,{comments:s}),getInventory:()=>t.get("/admin/inventory"),getInventoryAlerts:()=>t.get("/admin/inventory/alerts"),getUsers:()=>t.get("/admin/users"),updateUserRole:(e,s)=>t.put(`/admin/users/${e}/role`,{role:s}),listUsers:e=>t.get("/admin/users",{params:e}),generateBarcodes:e=>t.post("/admin/bulk/barcodes",{count:e}),bulkCreateProducts:e=>t.post("/admin/bulk/products",{products:e}),getOrders:e=>t.get("/admin/orders",{params:e}),updateOrderStatus:(e,s)=>t.post(`/admin/orders/${e}/status`,{status:s}),getAnalytics:()=>t.get("/admin/analytics"),getSettings:()=>t.get("/admin/settings"),listAdmins:()=>t.get("/admin/admins"),createAdmin:e=>t.post("/admin/admins",e),updateAdmin:(e,s)=>t.patch(`/admin/admins/${e}`,s)}},53566:(e,s,r)=>{"use strict";r.d(s,{i:()=>a});var t=r(94464);function a(e,s){if(t.Z.isAxiosError(e)){let r=e.response?.data;if(r&&"object"==typeof r&&"error"in r){let e=r.error;if("string"==typeof e&&e.trim())return e}return e.message||s}return e instanceof Error&&e.message||s}},51223:(e,s,r)=>{"use strict";r.d(s,{cn:()=>n});var t=r(41135),a=r(31009);function n(...e){return(0,a.m6)((0,t.W)(e))}},32029:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>d,metadata:()=>i});var t=r(19510),a=r(45317),n=r.n(a);r(5023);let i={title:"Wholexale Admin Dashboard",description:"Admin dashboard for Wholexale B2B Marketplace"};function d({children:e}){return t.jsx("html",{lang:"en",children:t.jsx("body",{className:n().className,children:e})})}},5023:()=>{}};